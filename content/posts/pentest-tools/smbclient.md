+++
date = '2025-12-27T09:41:45+09:00'
draft = false
title = 'smbclient'
tags = ['SMB','smbclient']
+++

## 共有フォルダの一覧表示

標的マシンの共有フォルダを一覧表示します。

```bash
smbclient -N -L <RHOST>
```

`-N`
: 匿名（＝パスワード認証なし）でアクセスします。  

`-L`
: 共有フォルダを一覧で表示します。  

`<RHOST>`
: 標的マシンのIPアドレス（またはホスト名）を指定します。

## 共有フォルダへの接続

共有フォルダに接続します。

```bash
smbclient -N //<RHOST>/<SHARE>
```

`<SHARE>`
: 接続したい共有フォルダを指定します。

## ファイルの一覧表示

`ls`コマンドで、共有フォルダ内のディレクトリ／ファイル一覧を表示します。

```bash
ls
```

## ファイルダウンロード

ファイルをダウンロードします。  
共有フォルダを丸ごと一括でダウンロードしたいことが多いので、以下のコマンドを実行します。  
なお、ダウンロード先はローカルホストのカレントディレクトリになります。

```bash
recurse on
prompt off
mget *
```

`recurse on`
: サブディレクトリまで全て再起的に操作します。

`prompt off`
: 確認プロンプトを無効にします。

`mget *`
: 複数のファイルをダウンロードします。



## 🔗 参考リンク
- https://www.kali.org/tools/samba/#smbclient-1